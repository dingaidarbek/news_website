<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>–ù–æ–≤–æ—Å—Ç–∏</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        #loader {
            display: none;
            font-weight: bold;
            color: gray;
        }
    </style>
</head>
<body>

<h2>–ü–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏</h2>

<div id="loader">üîÑ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ—Å—Ç–µ–π...</div>
<div id="news-container"></div>

<script>
    $(document).ready(function () {
        $('#loader').show();

        $.ajax({
            url: '/api/news',
            method: 'GET',
            success: function (data) {
                const html = data.data.map(a => `<a href = ${a.url}>${a.title}</a><br>`).join('');
                $('#news-container').html(html);
            },
            error: function () {
                $('#news-container').html('<p>–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤–æ—Å—Ç–µ–π.</p>');
            },
            complete: function () {
                $('#loader').hide();
            }
        });
    });
</script>

</body>
</html>
